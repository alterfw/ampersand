<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
        <title>Request</title>
        <meta name="description" content=""/>
        <meta name="robots" content="index, follow"/>
        <meta property="og:title" content="Request"/>
        <meta property="og:image" content="http://alterfw.github.io/ampersandassets/images/logo.png"/>
        <meta property="og:site_name" content="Request"/>
        <meta property="og:url" content="http://alterfw.github.io/ampersand"/>
        <meta property="og:description" content="Ampersand, a micro framework for WordPress."/>
        <meta property="og:type" content="website"/>
        <!--[if lt IE 9]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
        <link rel="stylesheet" href="http://alterfw.github.io/ampersand/assets/css/all.css"/>
        <link rel="stylesheet" href="http://alterfw.github.io/ampersand/assets/css/custom.css"/>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css"/>
        <script src="//use.typekit.net/yjz4fyo.js"></script>
        <script>try{Typekit.load();}catch(e){}</script>
    </head>
    <body style="padding-top: 5em">

        <div class="wrapper" style="width: 100%">
      <div class="container">
    
        <header class="site-header">
          <div class="site-title"><a href="http://alterfw.github.io/ampersand">&amp;</a></div>
          <div class="site-slogan">Ampersand, a micro framework for WordPress.</div>
        </header>

    
        <div class="row">
            <div class="col-md-3">

                                          <h3>Get Started</h3>
              <ul>
                                    <li><a href="http://alterfw.github.io/ampersand/docs/index.html">Installation</a></li>
                                    <li><a href="http://alterfw.github.io/ampersand/docs/config.html">Configuration</a></li>
                                </ul>
                            <h3>Features</h3>
              <ul>
                                    <li><a href="http://alterfw.github.io/ampersand/docs/features/routes.html">Routes</a></li>
                                    <li><a href="http://alterfw.github.io/ampersand/docs/features/views.html">Views and Layouts</a></li>
                                    <li><a href="http://alterfw.github.io/ampersand/docs/features/wordpress.html">WordPress Templates</a></li>
                                    <li><a href="http://alterfw.github.io/ampersand/docs/features/models.html">Models</a></li>
                                </ul>
                            <h3>Helpers</h3>
              <ul>
                                    <li><a href="http://alterfw.github.io/ampersand/docs/helpers/session.html">Session</a></li>
                                    <li><a href="http://alterfw.github.io/ampersand/docs/helpers/url.html">URL</a></li>
                                </ul>
                            <h3>Request</h3>
              <ul>
                                    <li><a href="http://alterfw.github.io/ampersand/docs/request/overview.html">Overview</a></li>
                                    <li><a href="http://alterfw.github.io/ampersand/docs/request/helpers.html">Helpers</a></li>
                                    <li><a href="http://alterfw.github.io/ampersand/docs/request/methods.html">Methods</a></li>
                                </ul>
                            <h3>Response</h3>
              <ul>
                                    <li><a href="http://alterfw.github.io/ampersand/docs/response/overview.html">Overview</a></li>
                                    <li><a href="http://alterfw.github.io/ampersand/docs/response/helpers.html">Helpers</a></li>
                                </ul>
              
              
            </div>
    
          <div class="col-md-9" style="padding-left: 2em">
        <h1>Request</h1>
        <p>Use the request object's <code>getBody()</code> method to fetch the raw HTTP request body sent by the HTTP client. This is
particularly useful for applications that consume JSON or XML requests.</p>
<pre><code class="language-php">Route::get('/hello/:name', function(){
  $body = $this-&gt;request-&gt;getBody();
});</code></pre>
<h2 id="how-to-deal-with-content-types">How to Deal with Content-Types</h2>
<p>By default Ampersand does not parse any other content-type other than the standard form data because PHP does not support it. That means if you attempt to post application/json you will not be able to access the data via <code>$this-&gt;request-&gt;post()</code>;</p>
<p>To solve this you must parse the content type yourself. You can either do this on a per-route basis</p>
<pre><code class="language-php">//For application/json
$data = json_decode($this-&gt;request-&gt;getBody());</code></pre>
<h2 id="cookies">Cookies</h2>
<h3 id="get-cookies">Get Cookies</h3>
<p>Ampersand will automatically parse cookies sent with the current HTTP request. You can fetch cookie values
with the request object like this:</p>
<pre><code class="language-php">$cookies = $this-&gt;request-&gt;cookies;</code></pre>
<p>Only Cookies sent with the current HTTP request are accessible with this method. If you set a cookie during the
current request, it will not be accessible with this method until the subsequent request.</p>
<h3 id="cookie-encryption">Cookie Encryption</h3>
<p>You can optionally choose to encrypt all cookies stored on the HTTP client with the Slim app's <code>cookies.encrypt</code>
setting. When this setting is <code>true</code>, all cookies will be encrypted using your designated secret key and cipher.</p>
<p>It's really that easy.</p>
<h1 id="headers">Headers</h1>
<p>Ampersand will automatically parse all HTTP request headers. You can access the request headers using the
request object's <code>headers</code> property.</p>
<pre><code class="language-php">// Get request headers as associative array
$headers = $this-&gt;request-&gt;headers;

// Get the ACCEPT_CHARSET header
$charset = $this-&gt;request-&gt;headers-&gt;get('ACCEPT_CHARSET');</code></pre>
<p>The HTTP specification states that HTTP header names may be uppercase, lowercase, or mixed-case. Slim is smart enough
to parse and return header values whether you request a header value using upper, lower, or mixed case header name,
with either underscores or dashes. So use the naming convention with which you are most comfortable.</p>
<h1 id="ajax-requests">Ajax Requests</h1>
<p>When using a Javascript framework like MooTools or jQuery to execute an XMLHttpRequest, the XMLHttpRequest will
usually be sent with a <strong>X-Requested-With</strong> HTTP header. The Slim application will detect the HTTP
request’s <strong>X-Requested-With</strong> header and flag the request as such. If for some reason an XMLHttpRequest cannot
be sent with the <strong>X-Requested-With</strong> HTTP header, you can force the Ampersand to assume an HTTP request
is an XMLHttpRequest by setting a GET, POST, or PUT parameter in the HTTP request named “isajax” with a truthy value.</p>
<p>Use the request object's <code>isAjax()</code> or <code>isXhr()</code> method to tell if the current request is an XHR/Ajax request:</p>
<pre><code class="language-php">$isXHR = $app-&gt;request-&gt;isAjax();
$isXHR = $app-&gt;request-&gt;isXhr();</code></pre>
      </div>
      </div>

    <footer class="site-footer">
        <p>footer: Developed by <a href="http://vilar.cc">Sergio Vilar</a> and <a href="https://github.com/alterfw/ampersand/graphs/contributors" target="_blank">contributors</a>.</p>
    </footer>

    </div>
</div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
<script src="http://alterfw.github.io/ampersand/assets/scripts/build/production.js"></script>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
<a target="_blank" href="https://github.com/alterfw/ampersand"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a>
</body>
</html>
